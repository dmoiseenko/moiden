webpackJsonp([0],[function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){e.debugInfoEnabled(!1)}n(2),n(4),n(5),n(8),n(9),n(11);var r=angular.module("app",["rx","ui.router",n(15).name,n(124).name,n(128).name,n(145).name,n(148).name,n(155).name,n(160).name,n(166).name,n(176).name,n(182).name,n(188).name]);r.config(i),i.$inject=["$compileProvider"]},,,,,,,,,,function(e,t){},,,,function(e,t,n){"use strict";e.exports=angular.module("app.core",[]).factory("charts",n(16)).factory("colors",n(17)).factory("countries",n(18)).factory("indicators",n(19)).factory("main",n(20)).factory("plot",n(21)).factory("settings",n(122)).factory("topics",n(123))},function(e,t){"use strict";function n(e,t,n){function i(i,o,c){if(i&&o&&0!==i.length)r.busyObservable.onNext(!0),t.Observable.from(i).flatMap(function(n){return t.Observable.fromPromise(e.getDataByIndicatorAndCountry(o,n))}).toArray().subscribe(function(e){n.setType(c);var t=n.composePlotData(e);r.plotDataObservable.onNext(t),r.busyObservable.onNext(!1)});else{var s=n.getSample();r.plotDataObservable.onNext(s)}}var r={plotDataObservable:new t.BehaviorSubject(null),draw:i,busyObservable:new t.BehaviorSubject(!1)};return r}e.exports=n,n.$inject=["worldBank","rx","plot"]},function(e,t){"use strict";function n(){function e(e){if(e in r)return r[e];var t=i.pop();return r[e]=t,t}function t(e){var t=r[e];delete r[e],i.push(t)}var n={getColor:e,clearColor:t},i=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF","#1F77B4"],r={};return n}e.exports=n,n.$inject=[]},function(e,t){"use strict";function n(e,t,n){function i(){u.countriesObservable.subscribe(function(e){l=e}),e.getCountries().then(function(e){u.countriesObservable.onNext(r(e))})}function r(e){return e.filter(function(e){return e.capitalCity})}function o(e){a(l,e),e.color=n.getColor(e.iso2Code),d.push(e),s(d),u.selectedCountriesObservable.onNext(d),u.countriesObservable.onNext(l)}function c(e){a(d,e),n.clearColor(e.iso2Code),l.push(e),s(l),u.selectedCountriesObservable.onNext(d)}function s(e){e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}function a(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var u={loadCountries:i,countriesObservable:new t.BehaviorSubject([]),selectedCountriesObservable:new t.BehaviorSubject([]),selectCountry:o,deselectCountry:c},l=[],d=[];return u}e.exports=n,n.$inject=["worldBank","rx","colors"]},function(e,t){"use strict";function n(e,t){function n(e){o.selectedIndicatorObservable.onNext(e)}function i(t){o.newTopicObservable.onNext(t),o.indicatorsObservable.onNext([]),o.selectedIndicatorObservable.onNext(null),t&&e.getIndicatorsByTopic(t).then(function(e){o.indicatorsObservable.onNext(e)})}function r(){e.getIndicators().then(function(e){o.indicatorsObservable.onNext(e)})}var o={setTopic:i,newTopicObservable:new t.BehaviorSubject(null),indicatorsObservable:new t.BehaviorSubject([]),selectIndicator:n,selectedIndicatorObservable:new t.BehaviorSubject(null),loadIndicators:r};return o}e.exports=n,n.$inject=["worldBank","rx"]},function(e,t){"use strict";function n(e,t,n,i,r,o){function c(){e.loadCountries(),n.setTopic({id:21}),o.Observable.combineLatest(e.selectedCountriesObservable,t.selectedTopicObservable,n.selectedIndicatorObservable,r.seriesTypeObservable,function(e,t,n,i){return{countries:e,source:t,indicator:n,type:i}}).subscribe(function(e){i.draw(e.countries,e.indicator,e.type)})}var s={start:c,startObservable:new o.BehaviorSubject(!1)};return s}e.exports=n,n.$inject=["countries","topics","indicators","charts","settings","rx"]},function(e,t,n){(function(t,n,i){"use strict";function r(e){function r(e){f=e}function o(e){var r=a(e).filter(function(e){return e.value});if(t.isEmpty(r))return c();var o=[];r.forEach(function(e){var t=l(o,e);t||(t={},o.push(t)),t.x=new Date(e.date),t[e.country.id]=parseInt(e.value,10)}),o=o.sort(function(e,t){return e.x-t.x});var s=p(r),u=d(r),v={axes:s,series:u,drawLegend:!1,margin:{left:30,right:15},tooltip:{mode:"scrubber",formatter:function(e,t,r){return n(e).format("L")+", "+r.countryName+" : "+i.format(",")(t)}}};return{dots:o,options:v}}function c(){return{dots:[{x:1,value:1}],options:{axes:{x:{key:"x",type:"linear",min:0,max:1},y:{type:"linear",min:0,max:1,ticks:10,grid:!0}},margin:{left:30,right:15},series:[{y:"value",drawDots:!1}],lineMode:"linear",drawLegend:!1,drawDots:!1,tooltip:{mode:"none"}}}}function s(e){var t=e.map(function(e){return e.value});return Math.max.apply(null,t)}function a(e){return[].concat.apply([],e)}function u(e){var n=e.map(function(e){return e.country});return t.uniq(n,"id")}function l(e,n){var i=new Date(n.date).getTime(),r=t.findIndex(e,function(e){return e.x.getTime()===i});return-1===r?null:e[r]}function d(t){var n=u(t);return n.map(function(t){return{y:t.id,countryName:t.value,color:e.getColor(t.id),thickness:"3px",type:f}})}function p(e){var t={},n=s(e);return n>100&&(t="s"),{x:{type:"date"},y:{grid:!0,max:n,min:0,ticksFormat:t}}}var v={composePlotData:o,setType:r,getSample:c},f="line";return v}e.exports=r,r.$inject=["colors"]}).call(t,n(22),n(23),n(121))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){function t(e){n.seriesTypeObservable.onNext(e)}var n={setSeriesType:t,seriesTypeObservable:new e.BehaviorSubject("line")};return n}e.exports=n,n.$inject=["rx"]},function(e,t,n){(function(t){"use strict";function n(e,n){function i(){e.getTopics().then(function(e){c.topicsObservable.onNext(e)})}function r(e){o()&&e.id===s.id||(s=e,c.selectedTopicObservable.onNext(e))}function o(){return!t.isNull(s)}var c={loadTopics:i,topicsObservable:new n.BehaviorSubject([]),setTopic:r,selectedTopicObservable:new n.BehaviorSubject(null)},s=null;return c}e.exports=n,n.$inject=["worldBank","rx"]}).call(t,n(22))},function(e,t,n){"use strict";n(125),e.exports=angular.module("app.api",["restangular"]).config(n(126)).factory("worldBank",n(127))},,function(e,t){"use strict";function n(e){e.setBaseUrl("http://api.worldbank.org"),e.setJsonp(!0),e.setDefaultRequestParams("jsonp",{format:"jsonP",prefix:"JSON_CALLBACK",per_page:1e4}),e.setDefaultHttpFields({cache:!0}),e.addResponseInterceptor(function(e,t){var n=[];return"getList"===t?(null!==e[1]&&(n=e[1]),n.meta=e[0]):n=e,n})}e.exports=n,n.$inject=["RestangularProvider"]},function(e,t){"use strict";function n(e){function t(t){return e.all(t).getList()}function n(){return a.getList("countries")}function i(){return a.getList("topics")}function r(e){return a.getList("topic/"+e.id+"/indicator")}function o(){return a.getList("indicators")}function c(e){return a.getList("countries/all/indicators/"+e.id)}function s(e,t){return a.getList("countries/"+t.iso2Code+"/indicators/"+e.id)}var a={getCountries:n,getTopics:i,getIndicatorsByTopic:r,getDataByIndicator:c,getDataByIndicatorAndCountry:s,getIndicators:o,getList:t};return a}e.exports=n,n.$inject=["Restangular"]},function(e,t,n){"use strict";e.exports=angular.module("app.page",["ui.router"]).controller("PageController",n(129)).config(n(140))},function(e,t,n){"use strict";function i(e,t){function n(){e.start(),t.go("home.data")}var i=this;i.activate=n,n()}n(130),n(132),n(134),n(136),n(138),e.exports=i,i.$inject=["main","$state"]},function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t,n){"use strict";function i(e,t){e.state("home",{url:"","abstract":!0,template:n(141),controller:"PageController",controllerAs:"vm"}).state("home.data",{url:"/",views:{content:{template:n(142)},header:{template:n(143)},footer:{template:n(144)}}}),t.otherwise("/")}e.exports=i,i.$inject=["$stateProvider","$urlRouterProvider"]},function(e,t){e.exports="<div class=page><div ui-view=header class=header-wrapper></div><div ui-view=content class=content-wrapper></div><div ui-view=footer class=footer-wrapper></div></div>"},function(e,t){e.exports="<div class=indicators-wrapper><indicators></indicators></div><div class=countries-chart-wrapper><countries class=countries-wrapper></countries><div class=chart-wrapper><indicators></indicators><countries-min></countries-min><selected-countries></selected-countries><chart></chart><indicator-info></indicator-info></div></div>"},function(e,t){e.exports='<div class=header><p class=logo>world bank data viewer</p><div class=world-bank__container><a class=world-bank__link href="http://www.worldbank.org/">data from World Bank</a></div></div>'},function(e,t){e.exports="<div class=footer><div class=footer--label>&#169; 2015 Moiden</div></div>"},function(e,t,n){"use strict";e.exports=angular.module("app.filter",[]).directive("topics",n(146))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(147),scope:{},controller:r,controllerAs:"vm",bindToController:!0};return e}function r(e){function t(){e.topicsObservable.subscribe(function(e){r.topics=e})}function n(){return{value:"select topic"}}function i(t){r.selectedTopic=t,e.setTopic(t)}var r=this;r.topics=[],r.selectedTopic=n(),r.selectTopic=i,r.activate=t,t()}e.exports=i,i.$inject=[],r.$inject=["topics"]},function(e,t){e.exports='<div class="filters__topic dropdown"><button class="btn btn-primary dropdown-toggle" type=button id=dropdownMenu1 data-toggle=dropdown aria-haspopup=true aria-expanded=true>{{ vm.selectedTopic.value }} <span class=caret></span></button><ul class=dropdown-menu aria-labelledby=dropdownMenu1><li><a href=# ng-repeat="topic in vm.topics" ng-click=vm.selectTopic(topic)>{{ topic.value }}</a></li></ul></div>'},function(e,t,n){"use strict";n(149),e.exports=angular.module("app.chart",["n3-line-chart"]).directive("chart",n(150))},,function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(153),scope:{},controller:n(154),controllerAs:"vm",bindToController:!0};return e}n(151),e.exports=i,i.$inject=[]},function(e,t){},,function(e,t){e.exports="<linechart data=vm.data options=vm.options ng-show=!vm.isBusy class=chart></linechart><series-view class=series-view-wrapper ng-show=!vm.isBusy></series-view><spinner class=busy-indicator ng-show=vm.isBusy></spinner>"},function(e,t){function n(e,t){function n(){e.plotDataObservable.subscribe(function(e){e&&(i.data=e.dots,i.options=e.options)}),e.busyObservable.subscribe(function(e){e?i.isBusy=!0:t(function(){i.isBusy=!1},500)})}var i=this;i.data=[],i.options={},i.isBusy=!1,n()}e.exports=n,n.$inject=["charts","$timeout"]},function(e,t,n){"use strict";e.exports=angular.module("app.spinner",[]).directive("spinner",n(156))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:r};return e}n(157);var r=n(159);e.exports=i,i.$inject=[]},function(e,t){},,function(e,t){e.exports='<div class=sk-double-bounce><div class="sk-child sk-double-bounce1"></div><div class="sk-child sk-double-bounce2"></div></div>'},function(e,t,n){"use strict";e.exports=angular.module("app.seriesView",[]).directive("seriesView",n(161))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(164),scope:{},controller:n(165),controllerAs:"vm",bindToController:!0};return e}n(162),e.exports=i,i.$inject=[]},function(e,t){},,function(e,t){e.exports="<div class=series-view__container><label class=radio-inline><input type=radio name=optradio value=line ng-model=vm.selectedType ng-change=vm.selectType()> line</label><label class=radio-inline><input type=radio name=optradio value=area ng-model=vm.selectedType ng-change=vm.selectType()> area</label><label class=radio-inline><input type=radio name=optradio value=column ng-model=vm.selectedType ng-change=vm.selectType()> column</label></div>"},function(e,t){"use strict";function n(e){function t(){e.seriesTypeObservable.subscribe(function(e){i.selectedType=e})}function n(){e.setSeriesType(i.selectedType)}var i=this;i.selectedType="",i.activate=t,i.selectType=n,t()}e.exports=n,n.$inject=["settings"]},function(e,t,n){"use strict";e.exports=angular.module("app.countries",[]).directive("countries",n(167)).directive("countriesMin",n(172))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(170),scope:{},controller:n(171),controllerAs:"vm",bindToController:!0};return e}n(168),e.exports=i},function(e,t){},,function(e,t){e.exports='<div class=countries><div class=countries__scroll><div class=countries__list><div ng-repeat="country in vm.countries"><a href="" ng-click=vm.selectCountry(country)><div class=country>{{ country.name }}</div></a></div></div></div></div>'},function(e,t){"use strict";function n(e){function t(){e.countriesObservable.subscribe(function(e){i.countries=e})}function n(t){e.selectCountry(t)}var i=this;i.countries=[],i.searchedCountry="",i.selectCountry=n,t()}e.exports=n,n.$inject=["countries"]},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(175),scope:{},controller:n(171),controllerAs:"vm",bindToController:!0};return e}n(173),e.exports=i},function(e,t){},,function(e,t){e.exports='<div class=dropdown><button class="btn btn-primary dropdown-toggle" type=button id=dropdownMenu2 data-toggle=dropdown aria-haspopup=true aria-expanded=true ng-disabled=vm.isDisabled>Select countries <span class=caret></span></button><ul class="dropdown-menu countries-min__list" aria-labelledby=dropdownMenu2><li><a href=# ng-repeat="country in vm.countries" ng-click=vm.selectCountry(country)>{{ country.name }}</a></li></ul></div>'},function(e,t,n){"use strict";e.exports=angular.module("app.indicatorInfo",[]).directive("indicatorInfo",n(177))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(180),scope:{},controller:n(181),controllerAs:"vm",bindToController:!0};return e}n(178),e.exports=i},function(e,t){},,function(e,t){e.exports="<div class=indicator-info__container><div class=indicator-info__name>{{ vm.indicatorName}}</div><div class=indicator-info__description>{{ vm.indicatorDescription}}</div></div>"},function(e,t){"use strict";function n(e){function t(){e.selectedIndicatorObservable.subscribe(function(e){e?(n.indicatorName=e.name,n.indicatorDescription=e.sourceNote):(n.indicatorName="",n.indicatorDescription="")})}var n=this;n.indicatorName="",n.indicatorDescription="",t()}e.exports=n,n.$inject=["indicators"]},function(e,t,n){"use strict";e.exports=angular.module("app.indicators",[]).directive("indicators",n(183))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(186),scope:{},controller:n(187),controllerAs:"vm",bindToController:!0};return e}n(184),e.exports=i,i.$inject=[]},function(e,t){},,function(e,t){e.exports='<div class="dropdown indicators__container"><button class="btn btn-primary dropdown-toggle" type=button id=indicatorsDropdown data-toggle=dropdown aria-haspopup=true aria-expanded=false data-ng-disabled=vm.isDisabled>{{ vm.selectedIndicator.name }} <span class=caret></span></button><ul class="dropdown-menu indicators__indicators-list" aria-labelledby=indicatorsDropdown><li><a href=# ng-repeat="indicator in vm.indicators" ng-click=vm.selectIndicator(indicator)>{{ indicator.name }}</a></li></ul></div>'},function(e,t,n){(function(t){"use strict";function n(e){function n(){e.indicatorsObservable.subscribe(function(e){o.isDisabled=t.isEmpty(e),o.indicators=e}),e.selectedIndicatorObservable.subscribe(function(e){o.selectedIndicator=e}),e.newTopicObservable.subscribe(function(){o.selectedIndicator=r()})}function i(t){e.selectIndicator(t)}function r(){return{name:"select indicator"}}var o=this;o.indicators=e,o.isDisabled=!0,o.selectedIndicator=r(),o.selectIndicator=i,n()}e.exports=n,n.$inject=["indicators"]}).call(t,n(22))},function(e,t,n){"use strict";e.exports=angular.module("app.selectedCountries",[]).directive("selectedCountries",n(189))},function(e,t,n){"use strict";function i(){var e={restrict:"EA",template:n(192),scope:{},controller:r,controllerAs:"vm",bindToController:!0};return e}function r(e){function t(){e.selectedCountriesObservable.subscribe(function(e){i.selectedCountries=e})}function n(t){e.deselectCountry(t)}var i=this;i.selectedCountries=[],i.deselectCountry=n,t()}n(190),e.exports=i,i.$inject=[],r.$inject=["countries"]},function(e,t){},,function(e,t){e.exports='<div class=countries__selected-list><div ng-repeat="country in vm.selectedCountries" class=selected-country__container><a href="" ng-click=vm.deselectCountry(country)><div class=selected-country><div class=selected-country__circle ng-style="{\'background\': country.color}"></div>{{ country.name }}</div></a></div></div>'}]);